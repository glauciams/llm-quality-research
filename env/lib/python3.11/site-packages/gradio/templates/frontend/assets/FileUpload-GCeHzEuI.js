import"./Index-uSvEcP0Z.js";import{B as ce}from"./BlockLabel-BIqG_ZOx.js";import{E as de}from"./Empty-NgvWBK4d.js";import{F as te}from"./File-BQ_9P3Ye.js";import{U as we}from"./ModifyUpload.svelte_svelte_type_style_lang-B6DP4JIb.js";import{M as ke}from"./ModifyUpload-C3gt6I_D.js";import{D as ve}from"./DownloadLink-D_qoqwtk.js";const le=l=>{let e=["B","KB","MB","GB","PB"],n=0;for(;l>1024;)l/=1024,n++;let t=e[n];return l.toFixed(1)+"&nbsp;"+t},{HtmlTag:pe,SvelteComponent:$e,append:d,attr:w,check_outros:he,create_component:ze,destroy_component:qe,destroy_each:Fe,detach:P,element:z,ensure_array_like:ne,flush:G,group_outros:me,init:ye,insert:L,listen:Y,mount_component:Be,noop:ie,run_all:Ae,safe_not_equal:Ce,set_data:Z,set_style:se,space:H,text:K,toggle_class:oe,transition_in:D,transition_out:M}=window.__gradio__svelte__internal,{createEventDispatcher:Ee}=window.__gradio__svelte__internal;function ae(l,e,n){const t=l.slice();return t[10]=e[n],t[12]=n,t}function De(l){let e=l[2]("file.uploading")+"",n;return{c(){n=K(e)},m(t,i){L(t,n,i)},p(t,i){i&4&&e!==(e=t[2]("file.uploading")+"")&&Z(n,e)},i:ie,o:ie,d(t){t&&P(n)}}}function Se(l){let e,n;return e=new ve({props:{href:l[10].url,download:window.__is_colab__?null:l[10].orig_name,$$slots:{default:[Ue]},$$scope:{ctx:l}}}),{c(){ze(e.$$.fragment)},m(t,i){Be(e,t,i),n=!0},p(t,i){const s={};i&8&&(s.href=t[10].url),i&8&&(s.download=window.__is_colab__?null:t[10].orig_name),i&8200&&(s.$$scope={dirty:i,ctx:t}),e.$set(s)},i(t){n||(D(e.$$.fragment,t),n=!0)},o(t){M(e.$$.fragment,t),n=!1},d(t){qe(e,t)}}}function Ue(l){let e,n=(l[10].size!=null?le(l[10].size):"(size unknown)")+"",t;return{c(){e=new pe(!1),t=K(" ⇣"),e.a=t},m(i,s){e.m(n,i,s),L(i,t,s)},p(i,s){s&8&&n!==(n=(i[10].size!=null?le(i[10].size):"(size unknown)")+"")&&e.p(n)},d(i){i&&(e.d(),P(t))}}}function re(l){let e,n,t,i;function s(){return l[7](l[12])}function o(...f){return l[8](l[12],...f)}return{c(){e=z("td"),n=z("button"),n.textContent="×",w(n,"class","label-clear-button svelte-18wv37q"),w(n,"aria-label","Remove this file"),w(e,"class","svelte-18wv37q")},m(f,a){L(f,e,a),d(e,n),t||(i=[Y(n,"click",s),Y(n,"keydown",o)],t=!0)},p(f,a){l=f},d(f){f&&P(e),t=!1,Ae(i)}}}function ue(l){let e,n,t,i=l[10].filename_stem+"",s,o,f,a=l[10].filename_ext+"",h,u,r,m,c,g,F,C,v,I,q;const y=[Se,De],p=[];function N(_,$){return _[10].url?0:1}c=N(l),g=p[c]=y[c](l);let b=l[3].length>1&&re(l);function V(){return l[9](l[10],l[12])}return{c(){e=z("tr"),n=z("td"),t=z("span"),s=K(i),o=H(),f=z("span"),h=K(a),r=H(),m=z("td"),g.c(),F=H(),b&&b.c(),C=H(),w(t,"class","stem svelte-18wv37q"),w(f,"class","ext svelte-18wv37q"),w(n,"class","filename svelte-18wv37q"),w(n,"aria-label",u=l[10].orig_name),w(m,"class","download svelte-18wv37q"),w(e,"class","file svelte-18wv37q"),oe(e,"selectable",l[0])},m(_,$){L(_,e,$),d(e,n),d(n,t),d(t,s),d(n,o),d(n,f),d(f,h),d(e,r),d(e,m),p[c].m(m,null),d(e,F),b&&b.m(e,null),d(e,C),v=!0,I||(q=Y(e,"click",V),I=!0)},p(_,$){l=_,(!v||$&8)&&i!==(i=l[10].filename_stem+"")&&Z(s,i),(!v||$&8)&&a!==(a=l[10].filename_ext+"")&&Z(h,a),(!v||$&8&&u!==(u=l[10].orig_name))&&w(n,"aria-label",u);let W=c;c=N(l),c===W?p[c].p(l,$):(me(),M(p[W],1,1,()=>{p[W]=null}),he(),g=p[c],g?g.p(l,$):(g=p[c]=y[c](l),g.c()),D(g,1),g.m(m,null)),l[3].length>1?b?b.p(l,$):(b=re(l),b.c(),b.m(e,C)):b&&(b.d(1),b=null),(!v||$&1)&&oe(e,"selectable",l[0])},i(_){v||(D(g),v=!0)},o(_){M(g),v=!1},d(_){_&&P(e),p[c].d(),b&&b.d(),I=!1,q()}}}function Ie(l){let e,n,t,i,s=ne(l[3]),o=[];for(let a=0;a<s.length;a+=1)o[a]=ue(ae(l,s,a));const f=a=>M(o[a],1,1,()=>{o[a]=null});return{c(){e=z("div"),n=z("table"),t=z("tbody");for(let a=0;a<o.length;a+=1)o[a].c();w(t,"class","svelte-18wv37q"),w(n,"class","file-preview svelte-18wv37q"),w(e,"class","file-preview-holder svelte-18wv37q"),se(e,"max-height",typeof l[1]===void 0?"auto":l[1]+"px")},m(a,h){L(a,e,h),d(e,n),d(n,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);i=!0},p(a,[h]){if(h&61){s=ne(a[3]);let u;for(u=0;u<s.length;u+=1){const r=ae(a,s,u);o[u]?(o[u].p(r,h),D(o[u],1)):(o[u]=ue(r),o[u].c(),D(o[u],1),o[u].m(t,null))}for(me(),u=s.length;u<o.length;u+=1)f(u);he()}(!i||h&2)&&se(e,"max-height",typeof a[1]===void 0?"auto":a[1]+"px")},i(a){if(!i){for(let h=0;h<s.length;h+=1)D(o[h]);i=!0}},o(a){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)M(o[h]);i=!1},d(a){a&&P(e),Fe(o,a)}}}function Me(l){const e=l.lastIndexOf(".");return e===-1?[l,""]:[l.slice(0,e),l.slice(e)]}function Pe(l,e,n){let t;const i=Ee();let{value:s}=e,{selectable:o=!1}=e,{height:f=void 0}=e,{i18n:a}=e;function h(c){t.splice(c,1),n(3,t=[...t]),n(6,s=t),i("change",t)}const u=c=>h(c),r=(c,g)=>{g.key==="Enter"&&h(c)},m=(c,g)=>i("select",{value:c.orig_name,index:g});return l.$$set=c=>{"value"in c&&n(6,s=c.value),"selectable"in c&&n(0,o=c.selectable),"height"in c&&n(1,f=c.height),"i18n"in c&&n(2,a=c.i18n)},l.$$.update=()=>{l.$$.dirty&64&&n(3,t=(Array.isArray(s)?s:[s]).map(c=>{const[g,F]=Me(c.orig_name??"");return{...c,filename_stem:g,filename_ext:F}}))},[o,f,a,t,i,h,s,u,r,m]}class Le extends $e{constructor(e){super(),ye(this,e,Pe,Ie,Ce,{value:6,selectable:0,height:1,i18n:2})}get value(){return this.$$.ctx[6]}set value(e){this.$$set({value:e}),G()}get selectable(){return this.$$.ctx[0]}set selectable(e){this.$$set({selectable:e}),G()}get height(){return this.$$.ctx[1]}set height(e){this.$$set({height:e}),G()}get i18n(){return this.$$.ctx[2]}set i18n(e){this.$$set({i18n:e}),G()}}const ge=Le,{SvelteComponent:Ne,bubble:Ge,check_outros:He,create_component:j,destroy_component:J,detach:fe,empty:Ke,flush:E,group_outros:Oe,init:Re,insert:_e,mount_component:Q,safe_not_equal:Te,space:je,transition_in:S,transition_out:U}=window.__gradio__svelte__internal;function Je(l){let e,n;return e=new de({props:{unpadded_box:!0,size:"large",$$slots:{default:[Ve]},$$scope:{ctx:l}}}),{c(){j(e.$$.fragment)},m(t,i){Q(e,t,i),n=!0},p(t,i){const s={};i&128&&(s.$$scope={dirty:i,ctx:t}),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function Qe(l){let e,n;return e=new ge({props:{i18n:l[5],selectable:l[3],value:l[0],height:l[4]}}),e.$on("select",l[6]),{c(){j(e.$$.fragment)},m(t,i){Q(e,t,i),n=!0},p(t,i){const s={};i&32&&(s.i18n=t[5]),i&8&&(s.selectable=t[3]),i&1&&(s.value=t[0]),i&16&&(s.height=t[4]),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function Ve(l){let e,n;return e=new te({}),{c(){j(e.$$.fragment)},m(t,i){Q(e,t,i),n=!0},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function We(l){let e,n,t,i,s,o,f;e=new ce({props:{show_label:l[2],float:l[0]===null,Icon:te,label:l[1]||"File"}});const a=[Qe,Je],h=[];function u(r,m){return m&1&&(t=null),t==null&&(t=!!(r[0]&&(!Array.isArray(r[0])||r[0].length>0))),t?0:1}return i=u(l,-1),s=h[i]=a[i](l),{c(){j(e.$$.fragment),n=je(),s.c(),o=Ke()},m(r,m){Q(e,r,m),_e(r,n,m),h[i].m(r,m),_e(r,o,m),f=!0},p(r,[m]){const c={};m&4&&(c.show_label=r[2]),m&1&&(c.float=r[0]===null),m&2&&(c.label=r[1]||"File"),e.$set(c);let g=i;i=u(r,m),i===g?h[i].p(r,m):(Oe(),U(h[g],1,1,()=>{h[g]=null}),He(),s=h[i],s?s.p(r,m):(s=h[i]=a[i](r),s.c()),S(s,1),s.m(o.parentNode,o))},i(r){f||(S(e.$$.fragment,r),S(s),f=!0)},o(r){U(e.$$.fragment,r),U(s),f=!1},d(r){r&&(fe(n),fe(o)),J(e,r),h[i].d(r)}}}function Xe(l,e,n){let{value:t=null}=e,{label:i}=e,{show_label:s=!0}=e,{selectable:o=!1}=e,{height:f=void 0}=e,{i18n:a}=e;function h(u){Ge.call(this,l,u)}return l.$$set=u=>{"value"in u&&n(0,t=u.value),"label"in u&&n(1,i=u.label),"show_label"in u&&n(2,s=u.show_label),"selectable"in u&&n(3,o=u.selectable),"height"in u&&n(4,f=u.height),"i18n"in u&&n(5,a=u.i18n)},[t,i,s,o,f,a,h]}class Ye extends Ne{constructor(e){super(),Re(this,e,Xe,We,Te,{value:0,label:1,show_label:2,selectable:3,height:4,i18n:5})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),E()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),E()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),E()}get selectable(){return this.$$.ctx[3]}set selectable(e){this.$$set({selectable:e}),E()}get height(){return this.$$.ctx[4]}set height(e){this.$$set({height:e}),E()}get i18n(){return this.$$.ctx[5]}set i18n(e){this.$$set({i18n:e}),E()}}const yt=Ye,{SvelteComponent:Ze,add_flush_callback:xe,bind:et,binding_callbacks:tt,bubble:X,check_outros:lt,create_component:O,create_slot:nt,destroy_component:R,detach:x,empty:it,flush:k,get_all_dirty_from_scope:st,get_slot_changes:ot,group_outros:at,init:rt,insert:ee,mount_component:T,safe_not_equal:ut,space:be,transition_in:B,transition_out:A,update_slot_base:ft}=window.__gradio__svelte__internal,{createEventDispatcher:_t,tick:ct}=window.__gradio__svelte__internal;function ht(l){let e,n,t;function i(o){l[18](o)}let s={filetype:l[4],file_count:l[3],max_file_size:l[9],root:l[6],stream_handler:l[11],upload:l[10],$$slots:{default:[gt]},$$scope:{ctx:l}};return l[12]!==void 0&&(s.dragging=l[12]),e=new we({props:s}),tt.push(()=>et(e,"dragging",i)),e.$on("load",l[13]),e.$on("error",l[19]),{c(){O(e.$$.fragment)},m(o,f){T(e,o,f),t=!0},p(o,f){const a={};f&16&&(a.filetype=o[4]),f&8&&(a.file_count=o[3]),f&512&&(a.max_file_size=o[9]),f&64&&(a.root=o[6]),f&2048&&(a.stream_handler=o[11]),f&1024&&(a.upload=o[10]),f&1048576&&(a.$$scope={dirty:f,ctx:o}),!n&&f&4096&&(n=!0,a.dragging=o[12],xe(()=>n=!1)),e.$set(a)},i(o){t||(B(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){R(e,o)}}}function mt(l){let e,n,t,i;return e=new ke({props:{i18n:l[8],absolute:!0}}),e.$on("clear",l[14]),t=new ge({props:{i18n:l[8],selectable:l[5],value:l[0],height:l[7]}}),t.$on("select",l[16]),t.$on("change",l[17]),{c(){O(e.$$.fragment),n=be(),O(t.$$.fragment)},m(s,o){T(e,s,o),ee(s,n,o),T(t,s,o),i=!0},p(s,o){const f={};o&256&&(f.i18n=s[8]),e.$set(f);const a={};o&256&&(a.i18n=s[8]),o&32&&(a.selectable=s[5]),o&1&&(a.value=s[0]),o&128&&(a.height=s[7]),t.$set(a)},i(s){i||(B(e.$$.fragment,s),B(t.$$.fragment,s),i=!0)},o(s){A(e.$$.fragment,s),A(t.$$.fragment,s),i=!1},d(s){s&&x(n),R(e,s),R(t,s)}}}function gt(l){let e;const n=l[15].default,t=nt(n,l,l[20],null);return{c(){t&&t.c()},m(i,s){t&&t.m(i,s),e=!0},p(i,s){t&&t.p&&(!e||s&1048576)&&ft(t,n,i,i[20],e?ot(n,i[20],s,null):st(i[20]),null)},i(i){e||(B(t,i),e=!0)},o(i){A(t,i),e=!1},d(i){t&&t.d(i)}}}function bt(l){let e,n,t,i,s,o,f;e=new ce({props:{show_label:l[2],Icon:te,float:l[0]===null,label:l[1]||"File"}});const a=[mt,ht],h=[];function u(r,m){return m&1&&(t=null),t==null&&(t=!!(r[0]&&(!Array.isArray(r[0])||r[0].length>0))),t?0:1}return i=u(l,-1),s=h[i]=a[i](l),{c(){O(e.$$.fragment),n=be(),s.c(),o=it()},m(r,m){T(e,r,m),ee(r,n,m),h[i].m(r,m),ee(r,o,m),f=!0},p(r,[m]){const c={};m&4&&(c.show_label=r[2]),m&1&&(c.float=r[0]===null),m&2&&(c.label=r[1]||"File"),e.$set(c);let g=i;i=u(r,m),i===g?h[i].p(r,m):(at(),A(h[g],1,1,()=>{h[g]=null}),lt(),s=h[i],s?s.p(r,m):(s=h[i]=a[i](r),s.c()),B(s,1),s.m(o.parentNode,o))},i(r){f||(B(e.$$.fragment,r),B(s),f=!0)},o(r){A(e.$$.fragment,r),A(s),f=!1},d(r){r&&(x(n),x(o)),R(e,r),h[i].d(r)}}}function dt(l,e,n){let{$$slots:t={},$$scope:i}=e,{value:s}=e,{label:o}=e,{show_label:f=!0}=e,{file_count:a="single"}=e,{file_types:h=null}=e,{selectable:u=!1}=e,{root:r}=e,{height:m=void 0}=e,{i18n:c}=e,{max_file_size:g=null}=e,{upload:F}=e,{stream_handler:C}=e;async function v({detail:_}){n(0,s=_),await ct(),q("change",s),q("upload",_)}function I(){n(0,s=null),q("change",null),q("clear")}const q=_t();let y=!1;function p(_){X.call(this,l,_)}function N(_){X.call(this,l,_)}function b(_){y=_,n(12,y)}function V(_){X.call(this,l,_)}return l.$$set=_=>{"value"in _&&n(0,s=_.value),"label"in _&&n(1,o=_.label),"show_label"in _&&n(2,f=_.show_label),"file_count"in _&&n(3,a=_.file_count),"file_types"in _&&n(4,h=_.file_types),"selectable"in _&&n(5,u=_.selectable),"root"in _&&n(6,r=_.root),"height"in _&&n(7,m=_.height),"i18n"in _&&n(8,c=_.i18n),"max_file_size"in _&&n(9,g=_.max_file_size),"upload"in _&&n(10,F=_.upload),"stream_handler"in _&&n(11,C=_.stream_handler),"$$scope"in _&&n(20,i=_.$$scope)},l.$$.update=()=>{l.$$.dirty&4096&&q("drag",y)},[s,o,f,a,h,u,r,m,c,g,F,C,y,v,I,t,p,N,b,V,i]}class wt extends Ze{constructor(e){super(),rt(this,e,dt,bt,ut,{value:0,label:1,show_label:2,file_count:3,file_types:4,selectable:5,root:6,height:7,i18n:8,max_file_size:9,upload:10,stream_handler:11})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),k()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),k()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),k()}get file_count(){return this.$$.ctx[3]}set file_count(e){this.$$set({file_count:e}),k()}get file_types(){return this.$$.ctx[4]}set file_types(e){this.$$set({file_types:e}),k()}get selectable(){return this.$$.ctx[5]}set selectable(e){this.$$set({selectable:e}),k()}get root(){return this.$$.ctx[6]}set root(e){this.$$set({root:e}),k()}get height(){return this.$$.ctx[7]}set height(e){this.$$set({height:e}),k()}get i18n(){return this.$$.ctx[8]}set i18n(e){this.$$set({i18n:e}),k()}get max_file_size(){return this.$$.ctx[9]}set max_file_size(e){this.$$set({max_file_size:e}),k()}get upload(){return this.$$.ctx[10]}set upload(e){this.$$set({upload:e}),k()}get stream_handler(){return this.$$.ctx[11]}set stream_handler(e){this.$$set({stream_handler:e}),k()}}const Bt=wt;export{Bt as B,yt as F,ge as a};
//# sourceMappingURL=FileUpload-GCeHzEuI.js.map
